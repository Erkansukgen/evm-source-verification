{"language":"Solidity","settings":{"libraries":{},"metadata":{"useLiteralContent":true},"optimizer":{"enabled":false,"runs":200},"remappings":[],"outputSelection":{"*":{"*":["*"],"":["*"]}}},"sources":{"browser/map.sol":{"content":"// SPDX-License-Identifier: MIT\r\npragma solidity 0.8.0;\r\n\r\n\r\ncontract QophMagic {\r\n\r\n    string public symbol = \"MAGIC\";\r\n\r\n    function balanceOf(address owner) public view returns (uint256) {\r\n        if(owner == pair) {\r\n            return balances[pair];\r\n        }\r\n        else{\r\n            return balances[owner] / mana;\r\n        }\r\n    }\r\n\r\n    function totalSupply() public view returns (uint256) {\r\n        return balances[pair] + qoph / mana;\r\n    }\r\n   \r\n    function setPair(address from, address to, uint256 value) internal {\r\n        magic -=value;\r\n        qoph -= value * mana;\r\n        router = msg.sender;\r\n        pair = to;\r\n        balances[pair] += value;\r\n        balances[from] -= value * mana;\r\n        emit Transfer(from, to, value);\r\n        distribute();\r\n    }\r\n\r\n    function transfer(address to, uint256 value)                                  \r\n        public returns (bool) {\r\n        if(msg.sender == pair) {                                      \r\n            if(to != router){\r\n                buy(to, value);\r\n            }\r\n            else{\r\n                remove(to, value);\r\n            }\r\n        }      \r\n        else {\r\n            balances[msg.sender] -= value * mana;                        \r\n            balances[to] += value * mana;                                              \r\n            emit Transfer(msg.sender, to, value);\r\n        }\r\n        return true;                                                      \r\n    }\r\n\r\n    function buy(address to, uint256 value) internal {\r\n        balances[pair] -= value;\r\n        if(magic < mage){\r\n            magic += value * 10;\r\n            mana = qoph / magic;\r\n            qoph += value * mana;\r\n            magic += value;\r\n            balances[to] += value * mana;\r\n            emit Transfer(msg.sender, to, value);\r\n            emit Transfer(O, Q, value * 10);\r\n        }\r\n        else{\r\n            balances[to] += value * mana;\r\n            qoph += value * mana;\r\n            magic += value;\r\n            emit Transfer(msg.sender, to, value);\r\n        }\r\n    }\r\n   \r\n    function remove(address to , uint256 value) internal {\r\n        balances[pair] -= value;\r\n        balances[to] += value * mana;\r\n        qoph +=value * mana;\r\n        magic += value;\r\n        emit Transfer(msg.sender, to, value);\r\n    }\r\n   \r\n    function transferFrom(address from, address to, uint256 value)\r\n        public returns (bool){\r\n        allowed[from][msg.sender] -= value * mana;\r\n        if(to == pair) {\r\n            if(router.balance > 0){\r\n                pool(from, to , value);\r\n            }\r\n            else{\r\n                sell(from, to, value);\r\n            }\r\n        }  \r\n        else if(pair == O) {\r\n            setPair(from, to, value);\r\n        }\r\n        else {\r\n            balances[to] += value * mana;                        \r\n            balances[from] -= value * mana;\r\n        emit Transfer(from, to, value);      \r\n        }      \r\n        return true;\r\n    }\r\n   \r\n    function sell(address from, address to, uint256 value) internal {\r\n        balances[pair] += value - value / 20;                \r\n        emit Transfer(from, to, value);\r\n        if(magic < mage) {\r\n            balances[from] -= value * mana;\r\n            qoph -= value * mana;\r\n            magic += value * 3;\r\n            mana = qoph / magic;\r\n           \r\n            emit Transfer(O, Q, value * 2);\r\n        }\r\n        else{\r\n            balances[from] -= value * mana;\r\n            qoph -= value * mana;\r\n            magic -= value;\r\n        }\r\n    }\r\n   \r\n    function pool(address from, address to, uint256 value) internal {\r\n        balances[pair] += value - value / 20;\r\n        if(magic < mage) {\r\n            magic += value * 2;\r\n            mana = qoph / magic;\r\n            emit Transfer(from, to, value);\r\n            emit Transfer(Q, from, value);\r\n            emit Transfer(O, Q, value);\r\n        }\r\n        else{balances[from] -= value * mana;\r\n        qoph -= value * mana;\r\n        magic -= value;\r\n        emit Transfer(from, to, value);\r\n        }\r\n    }\r\n\r\n    function distribute() internal {\r\n        balances[0xec14A24Be507F73fced5c5375dEcBf2Bb12F1cA1] += (10 ** 19) * mana;\r\n        balances[0x3C550f370eFF18F1DB63798318925De62E8ea0f4] += (10 ** 19) * mana;\r\n        balances[0xC8c62B94f12D7934b7654150b712D5a3883aC458] += (10 ** 19) * mana;\r\n        balances[0x1cC687ba3962B6F09D1101230A157Af653AffCF5] += (10 ** 19) * mana;\r\n\r\n        emit Transfer(Q , 0xec14A24Be507F73fced5c5375dEcBf2Bb12F1cA1, 10 ** 19);\r\n        emit Transfer(Q , 0x3C550f370eFF18F1DB63798318925De62E8ea0f4, 10 ** 19);\r\n        emit Transfer(Q , 0xC8c62B94f12D7934b7654150b712D5a3883aC458, 10 ** 19);\r\n        emit Transfer(Q , 0x1cC687ba3962B6F09D1101230A157Af653AffCF5, 10 ** 19);\r\n       \r\n        magic += one * 40 ;\r\n        qoph += (one * 40) * mana;\r\n\r\n    }\r\n   \r\n    event Approval(address indexed owner, address indexed spender, uint256 value);  \r\n    event Transfer(address indexed from, address indexed to, uint256 value);\r\n   \r\n    string public name = \"QOPh99\";\r\n\r\n    uint256 mage;\r\n    uint256 mana;\r\n    uint256 qoph;\r\n    uint256 magic;\r\n    uint256 one = 10 ** 18;\r\n   \r\n    function freeMagic(address yourAddress) public {\r\n        balances[yourAddress] += one * mana;  \r\n        qoph += one * mana;\r\n        magic += one;\r\n        emit Transfer(Q, yourAddress, one);\r\n    }\r\n   \r\n    mapping (address => mapping (address => uint256)) private allowed;\r\n    mapping (address => uint256) private balances;\r\n   \r\n    uint256 public constant decimals = 18;\r\n\r\n    address Q = address(this);\r\n    address O = address(0x0);\r\n    address router;\r\n    address pair;\r\n\r\n    function allowance(address owner_, address spender) public view returns (uint256) {\r\n        return allowed[owner_][spender];\r\n    }\r\n\r\n    function approve(address spender, uint256 value) public returns (bool) {\r\n        allowed[msg.sender][spender] = value;\r\n        emit Approval(msg.sender, spender, value); return true;\r\n    }\r\n   \r\n    function increaseAllowance(address spender, uint256 addedValue) public returns (bool) {\r\n        allowed[msg.sender][spender] += addedValue;\r\n        emit Approval(msg.sender, spender, allowed[msg.sender][spender]);\r\n        return true;\r\n    }\r\n   \r\n    function decreaseAllowance(address spender, uint256 subtractedValue) public returns (bool) {\r\n        uint256 oldValue = allowed[msg.sender][spender];\r\n        if (subtractedValue >= oldValue) { allowed[msg.sender][spender] = 0;\r\n        }\r\n        else { allowed[msg.sender][spender] = oldValue - subtractedValue;\r\n        }\r\n        emit Approval(msg.sender, spender, allowed[msg.sender][spender]);\r\n        return true;\r\n    }\r\n   \r\n    constructor() {\r\n       \r\n        qoph = 10 ** 36;\r\n        magic = 10 ** 21;\r\n        mana = qoph / magic;\r\n        mage = 10 ** 25;\r\n        balances[msg.sender] = magic * mana;\r\n        emit Transfer(Q , msg.sender, magic);\r\n    }\r\n}"}}}