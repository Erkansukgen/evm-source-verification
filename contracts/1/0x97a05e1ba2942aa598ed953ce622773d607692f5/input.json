{"language":"Solidity","settings":{"libraries":{},"metadata":{"useLiteralContent":true},"optimizer":{"enabled":false,"runs":200},"remappings":[],"outputSelection":{"*":{"*":["*"],"":["*"]}}},"sources":{"Relayer.sol":{"content":"//SPDX-License-Identifier: Unlicense\r\npragma solidity ^0.7.0;\r\n\r\ncontract Relayer {\r\n    address owner;\r\n\r\n    mapping(address => bool) private allowedUsers;\r\n\r\n    constructor(){\r\n        owner = msg.sender;\r\n    }\r\n\r\n    function adduser(address newuser) public {\r\n        require(msg.sender == owner);\r\n        allowedUsers[newuser] = true;\r\n    }\r\n\r\n    function relay(\r\n        bytes memory _calldata,\r\n        address _dsaadress,\r\n        uint256 _maxblock\r\n    ) public {\r\n        if (block.number > _maxblock) { \r\n            revert(\"toolate\");\r\n        }\r\n\r\n        require(msg.sender == owner || allowedUsers[msg.sender]);\r\n\r\n        (bool success, ) = _dsaadress.call(_calldata);\r\n        if (success == false) {\r\n            assembly {\r\n                let size := returndatasize()\r\n                returndatacopy(0x00, 0x00, size)\r\n                revert(0x00, size)\r\n            }\r\n        }\r\n    }\r\n}"}}}