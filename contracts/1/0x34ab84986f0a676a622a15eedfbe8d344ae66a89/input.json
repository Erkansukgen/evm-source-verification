{"language":"Solidity","settings":{"libraries":{},"metadata":{"useLiteralContent":true},"optimizer":{"enabled":true,"runs":200},"remappings":[],"outputSelection":{"*":{"*":["*"],"":["*"]}}},"sources":{"EVOLootBox.sol":{"content":"// SPDX-License-Identifier: MIT\r\npragma solidity 0.8.6;\r\n\r\ninterface ILootBox {\r\n  function afterHarbergerBuy(uint256 _tokenId, address _newOwner) external;\r\n}\r\n\r\ninterface BuidlNFT {\r\n  function metadataOf(uint256 _tokenId) external view returns (\r\n    address owner,\r\n    uint256 bid,\r\n    uint256 originalPrice,\r\n    uint256 currentPrice,\r\n    uint256 txs,\r\n    address buidler,\r\n    string memory url,\r\n    address lootBox\r\n  );\r\n}\r\n\r\ncontract EVOLootBox is ILootBox {\r\n    event EVOHarbergerBuy(address newOwner, uint256 currentPrice, uint256 txs, uint256 receive_land_id);\r\n\r\n    address private immutable BUIDL_NFT;\r\n    uint256 private immutable EVO_BUIDL_ID;\r\n    uint256 private immutable RECEIVE_LAND_ID;\r\n\r\n    constructor(address _buidl_nft, uint256 _evo_buidl_id, uint256 _receive_land_id) {\r\n        BUIDL_NFT = _buidl_nft;\r\n        EVO_BUIDL_ID = _evo_buidl_id;\r\n        RECEIVE_LAND_ID = _receive_land_id;\r\n    }\r\n\r\n    function afterHarbergerBuy(uint256 _tokenId, address _newOwner) override external {\r\n       require(msg.sender == BUIDL_NFT, \"!buildl\");\r\n       require(_tokenId == EVO_BUIDL_ID, \"!evo\");\r\n       (,,,uint256 currentPrice,uint256 txs,,,) = BuidlNFT(msg.sender).metadataOf(_tokenId);\r\n       emit EVOHarbergerBuy(_newOwner, currentPrice, txs, RECEIVE_LAND_ID);\r\n    }\r\n}"}}}