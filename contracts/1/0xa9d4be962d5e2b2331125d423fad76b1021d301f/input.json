{"language":"Solidity","settings":{"libraries":{},"metadata":{"useLiteralContent":true},"optimizer":{"enabled":true,"runs":200},"remappings":[],"outputSelection":{"*":{"*":["*"],"":["*"]}}},"sources":{"browser/Airdrop.sol":{"content":"// contracts/Airdrop.sol\n// SPDX-License-Identifier: MIT\npragma solidity ^0.6.2;\n\n\n\ncontract Owned {\n    address public owner;\n\n    constructor() public {\n        owner = msg.sender;\n    }\n\n    modifier onlyOwner {\n        require(msg.sender == owner);\n        _;\n    }\n\n    function transferOwnership(address newOwner) onlyOwner public {\n        owner = newOwner;\n    }\n}\n\ninterface ERC721{\n    enum MintType { AirdropNFT, RaffleNFT, PromoNFT }\n    function safeTransferFrom(address from, address to, uint256 tokenId, bytes calldata _data) external;\n    function ownerOf(uint256 tokenId) external view returns (address);\n    function mint(address to, uint16 tokenType, bytes calldata extraData) external returns (uint256);\n    function mintTicket(address from, MintType NFTType, address referrer, uint256 quota) external returns(uint256 _newTokenId);\n    function isRaffleOver() external view returns(bool);\n}\n\ncontract Airdrop is Owned{\n    address public bonusAddr;               //奖励合约地址\n    address[] private airAddrs;             //空投用户地址\n    uint256 public airdropCount;            //空投计数\n    mapping(address => bool) public isClaimAirdrop;                 //是否认领空投\n    mapping(address => bool) public isAdmin;                        //管理员地址\n    \n    constructor() public {\n        isAdmin[msg.sender] = true;\n        airAddrs = [0xEF1F415ADD8d61682AFd5b5C8d8778969DaEEB8F,0x22b71A9D5C8b9AfA34B653E76DbC30ADc4902e98,0x92C1548219D67f965EEe3fEc6C3e71a75A6E427E,0xbBD859b6199F44Bf80c42b7C924dcF00cDFaD6cf,0xc2F103338EA72041E4e4ac73c4359929dd7d27d9,0x327790203663521eED1Bbca45AC3860400d66b83,0x9611Fcf6322987846846AE82e7526cF3c2DAA0E2,0x4600a50409bfb4982E5FD779FF8A491d5Bf56805,0xD85008bbC7f6A57B12dCd94f71Ac273a26933829,0x658A24ED045568eE49c6E728412d5f4571B7BCB2,0x18833c6EE690C4f87FdE68Df7787b910Db7b5DE8,0x3A084a7a125C4Fa0bB26433d888363D248dD8d96,0x959653A819D57DD9005E1Bf978852EcE527a14E7,0x4791185E1189F40B38F468F9D3aFd3E3ae8179C7,0x8B5E8c4595FbA023E873F66DAb7bD98A02E64F84,0x7350321E6b5143B0EB85e1a04e27Bc77dC1A9383,0xB0B407aCD5Aaa21Dd2007dB0A369702d155936cd,0x7711Ab88D98Ff949411FbD39C883b047d032Ca8B,0x7cc7C3d7B19ee361ac461bd480da849d98b89186,0x4D6D47cecd21e4Ab5675417453982d30E1d51Aa3,0x697F18E933D130E57441eA8164AdF5E986AF4148,0x2dCaDfbCF2904975b608b75cC00eA6B1F02A4E34,0x1181234f98EFb502Da6D7893A97e1fE1a3D098e2,0xb634a6228dDCe64c6BB51A2D8bD22204cA07dDDd,0x52EB62BF3422fc19590345300b1aA0b031474ec2,0xA5153223f3bc4eBBDB5fed606355F09f245a3FF1,0xDc2189d4F308925E3C3C4Df7270C36AAedc1DD1B,0xD589AA6BCBA8E8dccf726eFd354454C722c3dC95,0xcdc8034cee2a909B8874DffB0B3D242A3d674cD6,0x653222390AD73597671793f73d97427fF639Ff13,0x87A38b1116AA4b6048A74B3C6789C13DF5DcA263,0x56bd339642b47B0527EACc68cE4eC28a5A2c4899,0xc580f426d77BE32BEe6631047020e5b3A414AB54,0x4662FE6011ecd5887fD549586C60841ebA0d7D65,0xF1c407fc41aEBf5D96671c1583B32fD544BE0400,0xE99fAab30937B309a48EDc7478c388aF7C7D864f,0xd7f3E4aF8c5746DF897c44078843462Df65aBf3A,0x81f321D23dbBBBc9562934e524ea0956D878Babb,0x62f2C8B67D871f55e40Ed8Fb041D568996e428bC,0x8413174521aCE0542Fda97B63daE3DFefAfA5Ac5,0x759B000aDfc1e97661c8e3d895A66257c6585cb8,0x121a51F225bE8FC9e51560C2eA89022CFCf577aC,0xEA1aAEf226994c898A5AB48d857Ea9E51A8342b9,0xaf355A69a4483EEf4A0eA9B0680D814121CA6850,0xB8F47921927BA2B607940b78BDF035b9E92Ea209,0x6AfF7005C3D1386Ab1FD32EC9455A108a0d179Fa,0x6131EB0E04577B31B23a9A4d3c31dE5a02F2442A,0x77c881911bB0dE64885A572eF4362c1F4013eF23,0x7De3f6C71E4D4AfAA9b56DBd608E3cB2DA2B57a6,0x0108D2889d86483871CE3dc8458664c9c7116d82,0xB5A6d548B474E102be4b7913eD042845A12b206b,0x750a7CaC50C437EfdDc325ACe0E9F747349fd33C,0x096e888C5473fD86e3F4fe35A667526DA3da4ccf,0x3e44f9704fe1011c3e83cf620349196AA856b756,0x64b9bcC147E72c398500732153F270E56Eeb0F85,0xCEc80EA3ff87011b75a833534bF28c78BABEA62a,0x760dB86cCC3219f51124a180bfcD689be687E30b,0x7f179862f977360A04F6014CDa49AD60befeaeE2,0x8e076E15B71f763507d301B54c4105dEB61F8325,0x1B6D977E79AcA445eFC0438046d913926FA0E7a0,0x768be08Da830Ee35f6849A094F092AD25854521A,0x873dB83Ddd7a881e8b6ef916a211EC71c52FBDed,0x9FcF317fDCB5722CceA92744Bf50E893bb792635,0x0c111D6B39bF2C7363C2CdA2E82C3459cA0aB904,0x38EBEBf7220F4c9e0D3c4436f244f748f493d2a6,0x75bF2E315b60C75b6a33B7CEEC0C6F7c308B7A05,0x44136cef4052B16F6be71e451288b8d4285C7B9A,0xB99D566B0C1bb7880acE2c059e456BcD64f342d4,0x3144908ed59a492c333b1D6385EA0e6C1aaE5051,0xfE963edE1CC8b82e8942FC2c9aE79fCfe732dd53,0xf8d815f00d30982dEb38137BD0744348326AC925,0x862724662b22eC3b7b4BEB5aA0fdf0D21bD175EB,0x393cd15adF8e04B55D28c87721c27f7a4cc44656,0x82685fdAF284D933036Fb4B4cDcB05C2b73975Ba,0x8DF8d93b452c39B84429ad1bAf6b899f36B8b7F2,0x584706D7Eed5F180fD3860dEAC474aC044e9391E,0x109c591748BAb421CbFAe738EbAd91EDF05C992F,0x76Ef86B297a65De65019706DCc9A776A4d48a596,0x3dFBE4e03AbCa7d9531D76A8b08E0D10e2dEBC48,0xA5A2151f9406999F913EFc1f5031b988CCf7a179,0xd8EACA2d198c3cA70878D7FA5453016F4E2d0Ea4,0xFBA1e0E9c730c5e9FbE4b500035e656C886645cc,0x65895b8729Dd44E3d6d0B41cB9bC0Ef02168A6Bf,0xF46412fb81F91ca34BB1917B45574C531B039d34,0x8a981ce85AB977c67ce04f79Fc51cE46221223dE,0x99b5CF18b9f3e9DC6d6db8DBeaebD3870333c88f,0x1C402f3b997eF9F5d310b21f984Bdf1Ef4f683AA,0x9c2144CC21111b1166905BB63dEB44c33f7cB70c,0x6AF80cbA1670EE99E35F07552a29726579d0AF4F,0x6a0C18e6D42A64E1D21F37e9e92Df884984A5284,0xe8053D5f8ECE5F655D6a4e9f6E956DDeB888B31E,0xfED93eD067B3DC4FEC367029f88dccdc5C99fE5B,0x424Cc60a6399a8B819beB47cC09788BE7431478d,0x685c955adD62a6537100EFab206a43FA1B85f1b2,0xC75FAac51a6ac9090EA00F9a11DA00881E95Fdc6,0xabba1cae9acc0CB146ca758073754A6eDF721CbA,0xd3b7CE1D596820Ed0712ae598974b7Cdc9A1BE0e,0xB2914AA30362d70ff66483375A7990c6E1972Cc8,0x4CB941e172C5Bd8E4c587c3845b33383a0f262bd,0xBB7f643c0b2eDC3c82428dda5dE95d51aab2C539,0x703406c7899ed58FAe316A5cfecf3Ca9A4972d66,0xbb00BB839Be597c65BADCBc6D8c1381Edf533374,0xA225e7Ae92161c79b595EA4AD6a41Bfe928D5833,0x87f206185066C4B892D7E2A86cFbCb7A4ca9E422,0x205A7859201a56751746a4CdE6f26B9F22F76717,0x5EBB86069850cB8440Cc5AefD68Da3006d0C60De,0x45A1DCa65A73028482B887a2a7c45695FC87e72b,0x7CbC7692546E8F8703BAe21C88A7869A453E86c5,0xdE9DD6Bec9B89bcaEd58f78BC40D34d121c76A03,0x0AABab5d6d95f9D97b724012a45948168Da3cC64,0xE7a8B59310A0b69C444F9FA618bd65078D8B05EF,0xb25447bb2Fc1d3153AD20F1027E882280b30DbFE,0x19Bf51Cbf0F67CBAfd646dd19760c2a42cFc10A7,0xC10Be277Ea4939F37776925A53977424a40856D5,0x0d144f92DC96B83E9853B414630863Cc08A2f0Aa,0x9DE072FC718d09b04F807C51d07b2e64b3BbAd45,0x94cFDE04f1c2Aa8FA5366659cC8eFC6E8A24Bd06,0x3d51FF2CBc1847437aBBB5483Db4b5C40e766874,0x2e0482a088fCa3f53B905E661d96d4Bf86e96286,0x745997E5E119e6b4D772122B651C759281DD6f78,0x06c565498732020b48568EA31A9001FE45a4E5b3,0x4ebb9eb5A44503a4d584e1a19D3DAD2c48da6332,0x0830A4f8Ac5F908c425E6a228d9f1F74b14f8769,0xF13321D23d193037ccDB9FE1FaBC21D602cBc228,0x0B3abaBC0711430FE3D63D4D3E96C9801B21Dc56,0xEBBBA182134a1E7d61a94ABa307F3C7ad0BaB46A,0x0786431D47328C0415Ed07DF5D7FC12D13F2847e,0xDDb3Cf64076E9eDd7C73F7B9007751C60bba583b,0x76f9CfC108D853Ae722A1F5ee620577aa535cBdc,0x02A83e497f1c4830783969953a19AB53cCFE8d3F,0x2182F283b5802e822678E35B749fdE88Aea9962d,0x0805640bBe4eb6f45F75C712882D17f870579646,0xD7C61bF093FCD5A5534065B95d63971fCb91f967,0x9daDB0a4cf4eA98DEfE43C405C48E6046222F97d,0x18a88867aFc5888404ED2a365a2a502d83331Fe6,0x7695fc4C44f84339b9B9A84Fd8F604fe3E484Af0,0x8A8e9d7e0d54AA6Aac2ff7B4e9BDBFebEAC40479,0x899731b338fa9Cac564F8C3a5D2A50Da2c6e959D,0x0B24323A2010ce7217F56D887CF3065cc2FCCC2a,0x7ab3D07FFDB23162D8DF47cd11F5C75d0DB3F327,0x2937870d617863eED4144bD08fB081446ED60f92,0xe72641B17A11F47F53FB37968631afd8Fd03B2ea,0xea606cF88978c9BAB8ceB910AC03e58e4a8Ef975,0x6428Bb7405c6240c003AE30dA0d2601647ad2f4B,0x3ECc5c721A44Ef90c8E4B7635a20Aeb1d787113a,0xCd178B449c02cb85b705408C2E3edBb6725C77cA,0x890a6edd70dC596d53Ab01750c95a3c3F1Da46B4,0x81e853Cc7A74b8321d029Eaa1FA8403c509cEC49,0xFd3c23B49BEbC93343CaAAd089CA78479b89d76C,0x929da56Aff2a2fc598F855400eF1ebbA1308F29F,0xE855331dD6c0625924a1414C2b56640c2cEDe789,0x5FFa12e49EA429F69A2f9DE5D9469F9392804015,0x79ef7e9BAce893329d1072f9ACe53b3500A1562c,0x88EbF8a1e695089952329a3E212726bF2A8b5Fef,0xb4d99cD4D05Ddcc26dC304bA72Eab4B9c75A82Fc,0xDd64C97A82c6930B2635B9A349EbD924B1F9Dab5,0xBE1ac35ecC5ae4F9160012d6b38a893166D60769,0xd27B18Aa46f46ac9A15d2667185BCbD602d8D69E,0x50a355A07Bc3EE6F8224A7c0BE3FFd736a314470,0xa8e6724443E91174526D77BA283b8b2FDb728de2,0x1C21191C7b62e9a541557F22A5C46f3D6E2f0C81,0x4706FDAB06C9f270c8CDFE06F0164706380cc87d,0x37B8Ba8288236b19754cEe1855bC77df07d722D6,0x0eEc52bE65Cb1e598708b38A70Ffc290A680b131,0x8344195561990fd57e9Fc060f6eD7603BB6a66C9,0xBb61A96872f68e75e95F84e7b59817bcc655a2Bb,0x817E27b8107f7b0c72eF085E22Dc02673018a6BA,0x1Bd67A7807dE98044beb4058Bcd3de5e7797d135,0x67D74541D642a73A90169f8f4Fa7e89032629eB8,0x94B47Fe84CD7916531fb4eE2Fd539186a09A7122,0xcC51F2988E446496E5513c6944Ad60b623D486F0,0xbEb4f2135E005354DDAADfD39cAdE4B441F01C27,0x885a087E4268d2868b7451c33764f9945Fbd3eb5,0xB7DDf1d2C1F9b0B5BA02001cC8C8E2f1fE3Ad37A,0xBabAd9ab6FF74EEF67E38F357a56d7016dE19956,0x075Ddaa35d36Cd2aF05372fD00AFF40a9d472340,0x720544B0937d54cDD934d04bd21FAB2384655D3B,0x2F1Abf02E11FDF75e5B0D4D3a766277def9a2697,0xcD1aE0a5221dcBe23a0B2D6f9Fd1732B80010ef2,0x1A3b44E373084C1eB227e33A210ad395846C9eD8,0xF45F20Cd8C10Afc089a15C7f3573121796e71055,0xbe836F11a460BcccCaa7b37e3C9D548E6Eb58825,0x10D61a517B956F41BE251907532918C699Eb0d6c,0xe30B00a1697B79F4F2785e8FFCa7D680c9593663,0x612B9ECD12A0212829e35623254A48c2f10d8E04,0x80746177a5C232A8f7523C03bdD1D89bF9dA3272,0x112280c719210A650397bdDf0524E7EcbA1575e7,0xAB260BeF4eDe2e67440cD68fae5779150f6755fe,0xcB7fE4Ec34DF48fdFD2bfd25c58F8d2f54BeB8aa,0x9413ccCf9483be0553e0dd832095bE66E9325e21,0x42A5ea6d8B2cD4b570D28503D7BD93f2E8752E2d,0x32dee4d3aC7DAC40045597d32706Ff13Ca1b7737,0x9A92b26e22f1976FED73123077849d947767A2a6,0x30B73F62DCc80Bbe93734BEe7F361D5464C2499F,0xae541384D7942C40575C94747Eda41122B89a152,0x3c9B52D28EAb66A7248401558e94005E6473434F,0x14e3D39b505aCF9879D2520C1FaB3dAbF0fd4051,0xBa895E1DA16258E735c16d153Dd2C944C4b9B5C1,0xe15f845Df2606C90C32bC8c0D1422400fdBC43ec,0xddC4655D466B4c6c10eC064884C8219132695C6A,0x0c7C41bCAFAF8Fb369ec9a74e0bd77D9dB22ED71,0x116EE6941fF7977b4c13671a2a2eD5a6aCFF0C5c,0x831847803E4C794E8B4160A6322De9F23016c3EE,0xa23e38CBaA6fCb8eE9d2dDc14cb35103d7C93B25,0x475753615232bDB2011607758a742B8Ddcd3A58f,0x6feb672b5093a09c0C951D0f2995558F62EB6e3B,0x9e6D2cbc6efD12Db458e1e57D56Fb6C24e6ee770,0x1Cc67bE2640F4EbA1BE26dED66f55fe62Fa3c581,0x35cd0e4010216291aA611f9A127175FD24917Da5,0x6eFb5afD5d6aE41F2bf028f15b7f672F02c39528,0xF7F62c2B263E6C7319322f2A4a76d989404835d6,0x28D5bD5d5CaA47EC2fDCb444231f05BF90846B2e,0x15f2876344E89a2509c3660baBA84C15f04863bd,0x06c8804C5433c84B1E3A21d99948b39E6f88F6Fd,0x2980f82037481489dF9Dbdb57f532B7a2c775628,0x1f753150B74F90a711aA7d356756eaAB991F7405,0x7F34d748BF49Ef30B46b4F971Ae5110dfaDFe66c,0x8809E94312324F55cC49A41E92df3b09899437c1,0x1A10dc93757f3dfC2F439711Bb5cBB830b48f31C,0xC26519Cb0E4D0888f75d4418aD386d3c7D6798c7,0xA563d55D6AB7032551eD4ceAf77FF4Cb348F0520,0xF6565214D0DcBa0637351192a378EaD88bd5FBc3,0x0Ee751Ad3E3CE30A9149418F2CCCb6C91219a227,0x94a89aF2577c67eE0F698Ba7AC73e3c9F2c0561b,0xF9eD402f2E59482b0bebf4C14c121C3965C4B6a2,0x5419c69A998dC2eaD14c5FED031Fa61Bc1386d2E,0xED86c69eBc16B68FC33e371E843b49341e5F581c,0x04d7EF975f4aF9909283C319b390939AC866AeA8,0x7984C878e7f45136a1a0Bf5c492032C658D3C096,0x453Bf20CFE79e065969cc6770e14c08A0f899d25,0x3546862b6832fA792E4a8Cd10D4104e76B843bab,0x7740F674a44cD18B356aD94d7Fa6A9dde69eF70D,0x9298Ab4B17Df72E0fDb9E0AF4DdeA7020D444Cd1,0x3bDEa2EaC179de5F0C2E876306f52Ae57DF78F1c,0x85bed8b0bF6f8a5A8fAA4b93FcEC5f3810C4D450,0x04624FD5d57eDfE11A1d050DCEb46Ca5Ec987A7b,0x5453Dc00954A6C4E5A1Daa18332507F51E795fBe];\n        bonusAddr = 0x16506714e1d2ac6391684F91c7fA8a371150FF4B;\n    }\n    \n    // 设置空投地址\n    function setAirAddrs(address[] memory addrs) public returns(bool){\n        require(isAdmin[msg.sender]);\n        uint256 len = addrs.length;\n        for (uint i=0;i<len;++i) {\n            airAddrs.push(addrs[i]);\n        }\n    }\n    \n    function indexOf(address addr) public view returns(uint256){\n        uint256 len = airAddrs.length;\n        for (uint i=0;i<len;++i) {\n            if(airAddrs[i] == addr){\n                return i;\n            }\n        }\n    }\n    \n    function isAirAddress(address addr, uint256 index) public view returns(bool b){\n        if(airAddrs[index] == addr){\n            b = true;\n        }\n    }\n\n    // 空投门票激活\n    function activate(address to, uint256 index) public returns (uint256 _newTokenId) {\n        require(isAirAddress(msg.sender, index));\n        ERC721 ticketContract = ERC721(to);\n        require(!isClaimAirdrop[msg.sender]);\n        isClaimAirdrop[msg.sender] = true;\n        \n        uint256 quota = (uint256(keccak256(abi.encodePacked(block.difficulty, now, msg.sender, airdropCount))) % 800 + 3600) * (0.0001 ether);\n        _newTokenId = ticketContract.mintTicket(msg.sender, ERC721.MintType.RaffleNFT, address(0), quota);\n        airdropCount += 1;\n        _extraBonus(msg.sender, 1, abi.encodePacked(\"特杆勋章\"));\n\n    }\n    \n    //  调用空投合约，获取年卡、超算粉丝NFT方法\n    function _extraBonus(address to, uint8 tokenType, bytes memory extraData) private returns (uint256) {\n        return ERC721(bonusAddr).mint(to, tokenType, extraData);\n    }\n    \n    // 配置勋章合约地址\n    function setAddr(address _bonusAddr) public onlyOwner {\n        bonusAddr = _bonusAddr;\n    }\n    \n    // 管理员地址开关\n    function setAdmin(address admin, bool approved) public onlyOwner {\n        isAdmin[admin] = approved;\n    }\n}\n"}}}